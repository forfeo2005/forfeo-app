<table class="table">
    <thead>
        <tr>
            <th>Entreprise</th>
            <th>Mission</th>
            <th>Statut</th>
            <th>Ambassadeur</th>
            <th>Rapport</th>
            <th>Actions</th> </tr>
    </thead>
    <tbody>
        <% rapports.forEach(r => { %>
            <tr>
                <td><%= r.entreprise_nom %></td>
                <td><%= r.titre %></td>
                <td><span class="badge bg-info"><%= r.statut %></span></td>
                <td>ID: <%= r.ambassadeur_id || 'En attente' %></td>
                <td><%= r.rapport_final ? 'Soumis' : 'En attente' %></td>
                <td>
                    <div class="d-flex gap-2">
                        <form action="/admin/approuver-audit" method="POST">
                            <input type="hidden" name="id_mission" value="<%= r.id %>">
                            <button type="submit" class="btn btn-sm btn-success">Approuver</button>
                        </form>
                        <form action="/admin/supprimer-audit" method="POST" onsubmit="return confirm('Supprimer cet audit ?');">
                            <input type="hidden" name="id_mission" value="<%= r.id %>">
                            <button type="submit" class="btn btn-sm btn-danger">Supprimer</button>
                        </form>
                    </div>
                </td>
            </tr>
        <% }) %>
    </tbody>
</table>
